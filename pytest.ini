[pytest]
asyncio_mode = auto
# detailed command line options
# -ra: show extra test summary info for all tests except passed
# -v: verbose output
# --strict-markers: error if using an unregistered marker
addopts = -ra -v --strict-markers

# The directory where pytest looks for tests
testpaths =
    tests

# Patterns for test file discovery (defaults are usually fine, but explicit is better)
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Register custom markers to avoid "PytestUnknownMarkWarning"
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    api: marks tests related to API

# Filter specific warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Add the current directory to sys.path (useful if code is not installed as a package)
# Requires pytest-pythonpath or pytest >= 7.0
pythonpath = .